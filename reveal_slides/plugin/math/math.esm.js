export default()=>{let t,e={messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],skipTags:["script","noscript","style","textarea","pre"]},skipStartupTypeset:!0};return{id:"math",init:function(a){t=a;let n=t.getConfig().math||{},s={...e,...n},r=(s.mathjax||"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js")+"?config="+(s.config||"TeX-AMS_HTML-full");s.tex2jax={...e.tex2jax,...n.tex2jax},s.mathjax=s.config=null,function(t,e){let a=document.querySelector("head"),n=document.createElement("script");n.type="text/javascript",n.src=t;let s=()=>{"function"==typeof e&&(e.call(),e=null)};n.onload=s,n.onreadystatechange=()=>{"loaded"===this.readyState&&s()},a.appendChild(n)}(r,(function(){MathJax.Hub.Config(s),MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.getRevealElement()]),MathJax.Hub.Queue(t.layout),MathJax.Hub.Register.StartupHook("TeX Jax Ready",(function(){const t=MathJax.InputJax.TeX;t.Definitions.Add({macros:{fragment:"FRAGMENT_INDEX_attribute",fragapply:"FRAGMENT_apply",texclass:"TEX_APPLY_class"}}),t.Parse.Augment({FRAGMENT_INDEX_attribute:function(t){const e=this.GetArgument(t),a=this.ParseArg(t);this.Push(a.With({class:"fragment fragment-mjx",attrNames:["data-fragment-index"],attr:{"data-fragment-index":e}}))},FRAGMENT_apply:function(t){const e=this.GetArgument(t);let[a,n]=[...e.split(" ")];const s=this.ParseArg(t);n?this.Push(s.With({class:"fragapply fragment fragment-mjx "+a,attrNames:["data-fragment-index"],attr:{"data-fragment-index":n}})):this.Push(s.With({class:"fragapply fragment fragment-mjx "+a}))},TEX_APPLY_class:function(t){const e=this.GetArgument(t),a=this.ParseArg(t);this.Push(a.With({class:e}))}})})),t.on("slidechanged",(function(t){MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.currentSlide]);const e=t.currentSlide;let a=Array.prototype.slice.call(e.querySelectorAll(".fragment-mjx"));a=a.filter((t=>"SPAN"!==t.nodeName));for(let t=0;t<a.length;t++)a[t].classList.remove("fragment")}))}))}}};
